/* TODO: Revert https://github.com/refined-github/refined-github/pull/8111 in April 2025 */
:root .rgh-non-default-branch {
	background-color: var(
		--control-checked-bgColor-hover,
		var(--color-state-hover-primary-bg, var(--color-accent-emphasis, fuchsia))
	);

	&,
	a {
		color: var(
			--control-checked-fgColor-rest,
			var(
				--color-state-hover-primary-text,
				var(--color-fg-on-emphasis, fuchsia)
			)
		);
	}
}

.rgh-clean-conversation-headers {
	/* Removes: every text (but not icons) */
	font-size: 0 !important;

	/* Shows on PRs: [octocat] merged 1 commit into [master] from [feature] on [1 Jan] */
	/* Doesn't show on PRs: octocat merged [1] commit into master from feature */
	& > [class]:not(.js-updating-pull-request-commits-count) {
		font-size: 14px;
	}

	--margin: 4px;

	/* Shows on PRs: [by ]octocat main ‚Üê feature */
	&:not(.rgh-hide-author)::before {
		content: 'by ';
		font-size: 14px;
	}

	.author {
		margin-right: var(--margin);
	}

	/* Removes on PRs: [octocat] merged 1 commit into master from feature */
	&.rgh-hide-author {
		.author,
		a[data-hovercard-type='user'] {
			display: none;
		}
	}

	[class^='PullRequestBranchName'],
	/* TODO: Remove after July 2026 */
		.commit-ref,
	[class^='BranchName'] {
		font-size: 12px !important;
	}

	span[class^='prc-TooltipV2'] ~ .rgh-arrow {
		font-size: 0;
		margin-left: calc(-1 * var(--margin));
	}

	relative-time {
		margin-left: var(--margin);
	}

	/* TODO: Remove after July 2026 */
	/* Fixes vertical alignment of base branch dropdown #5598 */
	.commit-ref-dropdown {
		margin-top: -2px !important;
	}
}
